<head>
    <title>Tasks Database</title>
</head>

<body>
    
    {{#if currentUser}}
       <div class="loginB">
         {{>loginButtons}}
           
        <div id="profile">  
    
    
            <a href="#" data-reveal-id="myModal">My Points</a>
            
           <div id="myModal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
              <h2 id="modalTitle"><img src="{{profileURL}}" width=30> 
              Hi {{firstName}}!</h2>
               
               <p class="lead"> See how you are doing! </p> 
               
               <p> Play Points: {{myPoints.playPoints}} </p>
               <p> Social Points: {{myPoints.socialPoints}}</p>
               <p> Sleep Points: {{myPoints.sleepPoints}}</p>
               <p> Study Points: {{myPoints.studyPoints}}</p>
               <p> Health Points: {{myPoints.healthPoints}} </p>
               
               <a class="close-reveal-modal" aria-label="Close">&#215;</a>
            </div>
            
         </div>  
        </div>
    
    {{>points}}
         <div class="container">
	       <div class="jumbotron">
		      {{> dialogBox}}
		          <br><br>
	               <br><br>
	         {{> allTasks}}
             </div>
        </div>

    
        {{#if userhaspoints}}
            {{pointsImplemented}}
            
        {{else}}
            {{initializePoints}}
            
        {{/if}}
    
    
    {{else}}
      <div class="loginB">
        {{>loginButtons align="right"}}
    </div>
    {{/if}}


</body>

<template name="pointBox">
	{{userPoints}}
</template>

<template name="dialogBox">
  <form class="form-group">
    <p><label>Amount of sleep: 
          <input id="ex1" data-slider-id='ex1Slider' type="text" data-slider-min="0" data-slider-max="24" data-slider-step="1" data-slider-value="14"/>
  	</label></p>
<!--     <p><label>Nap? 
      <input type="text" class="form-control" name="meetingLocation" required value="some location"> </label>
    </p>
 -->  </form> 

</template>

<template name="allTasks">

	Number of Study tasks: {{counterStudy}}
	<br>
	Number of Health tasks: {{counterHealth}}
	<br>
	Number of Play tasks: {{counterPlay}}
	<br>
	Number of Social tasks: {{counterSocial}}
	<br>
	Number of Sleep tasks: {{counterSleep}}
	<br>
	Number of Generic Tasks: {{counterGenTasks}}
	<br>
<!-- 	Random tasks: {{randomTasks}}
 -->
<!-- 	<ul class="list-group">
	    {{#each task}}
			<li class="task list-group-item">{{text}}: {{category}} <span class="badge">{{points}}</span></li>
	    {{/each}}
	</ul>

	<br><br>
	<h1>Generic Tasks</h1>

	<ul class="list-group">
	    {{#each genTask}}
			<li class="task list-group-item">{{content}}: {{category}} <span class="badge">{{points}}</span></li>
	    {{/each}}
	</ul> -->

</template>


<template name="points">
    
    <div class='leaderboard'>
        <h3>Leaderboard</h3>
   
    <dl class="accordion" data-accordion>  
        
        <dd class="accordion-navigation">
    <a href="#panel1a"> Play Point Ranking </a>
    <div id="panel1a" class="content active">
                
                    {{#each pointInfo}}
                        <p>
                            <img src="{{photoURL}}" width=50> <span>{{username}}</span>: {{profile.playPoints}}</p>
                    {{/each}}
            
        </div>
        </dd>
        
        <dd class="accordion-navigation">
    <a href="#panel2a"> Social Point Ranking </a>
    <div id="panel2a" class="content">
        
                    {{#each pointInfo}}
                        <p><img src="{{photoURL}}" width=50> <span>{{username}}</span>: {{profile.socialPoints}} </p>
                    {{/each}}
                
        </div>
        </dd>
        
         
        <dd class="accordion-navigation">
    <a href="#panel3a"> Study Point Ranking </a>
    <div id="panel3a" class="content">
            
                    {{#each pointInfo}}
                        <p><img src="{{photoURL}}" width=50> <span>{{username}}</span>: {{profile.studyPoints}} </p>
                    {{/each}}
    
           </div>
        </dd>
    
        <dd class="accordion-navigation">
    <a href="#panel4a"> Sleep Point Ranking </a>
    <div id="panel4a" class="content">
                    {{#each pointInfo}}
                        <p><img src="{{photoURL}}" width=50> <span>{{username}}</span>: {{profile.sleepPoints}} </p>
                    {{/each}}
            
         </div>
        </dd>
           
        <dd class="accordion-navigation">
    <a href="#panel5a"> Healht Point Ranking </a>
    <div id="panel5a" class="content">
        
                    {{#each pointInfo}}
                        <p><img src="{{photoURL}}" width=50> <span>{{username}}</span>: {{profile.healthPoints}} </p>
                    {{/each}}
      </div>
        </dd>
    
        </dl>
 </div>       
</template>
